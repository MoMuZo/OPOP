<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>吊り回数カウンター</title>
  <style>
    body {
      font-family: 'Segoe UI Emoji', sans-serif;
      background-color: #1a1a1a;
      color: #fff;
      margin: 0;
      padding: 1rem;
      touch-action: manipulation;
    }

    h1 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .container {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      max-width: 400px;
      margin: 0 auto;
    }

    .counter {
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #2c2c2c;
      padding: 1rem;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(255, 255, 255, 0.1);
    }

    .label {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }

    .value-display {
      font-size: 2.5rem;
      margin: 0.5rem 0;
      min-height: 2.5rem;
    }

    .buttons {
      display: flex;
      gap: 1.2rem;
      margin-bottom: 0.5rem;
    }

    .deh-check {
      margin-top: 0.3rem;
      font-size: 1rem;
    }

    input[type="checkbox"] {
      transform: scale(1.3);
      margin-right: 0.4em;
    }

    button {
      font-size: 1.8rem;
      padding: 0.5rem 1.2rem;
      background-color: #444;
      border: none;
      border-radius: 6px;
      color: #fff;
      user-select: none;
      touch-action: manipulation;
      transition: background-color 0.2s ease;
    }

    button:hover {
      background-color: #666;
    }

    .reset-btn {
      margin: 2rem auto 0;
      display: block;
      background-color: crimson;
      padding: 0.8rem 1.5rem;
      font-size: 1.3rem;
    }

    .reset-btn:hover {
      background-color: darkred;
    }
  </style>
</head>
<body>
  <h1>🧟‍♂️吊りカウンター👻</h1>
  <div class="container" id="counters"></div>
  <button class="reset-btn" onclick="resetAll()">🔄 全員リセット</button>

  <script>
    const states = ["😎", "😯", "😭", "☠️"];
    const labels = [
      "🏃‍♂️ プレイヤー 1",
      "🏃‍♀️ プレイヤー 2",
      "🏃‍♂️ プレイヤー 3",
      "🏃‍♀️ プレイヤー 4"
    ];
    const counters = [];

    function createCounter(index) {
      const wrapper = document.createElement('div');
      wrapper.className = 'counter';

      const label = document.createElement('div');
      label.className = 'label';
      label.textContent = labels[index];

      const value = document.createElement('div');
      value.className = 'value-display';
      value.textContent = states[0];

      const upBtn = document.createElement('button');
      upBtn.textContent = '➕';
      upBtn.onclick = () => {
        const currentIndex = states.indexOf(value.textContent);
        if (currentIndex < states.length - 1) {
          value.textContent = states[currentIndex + 1];
        }
      };

      const downBtn = document.createElement('button');
      downBtn.textContent = '➖';
      downBtn.onclick = () => {
        const currentIndex = states.indexOf(value.textContent);
        if (currentIndex > 0) {
          value.textContent = states[currentIndex - 1];
        }
      };

      const btnGroup = document.createElement('div');
      btnGroup.className = 'buttons';
      btnGroup.appendChild(downBtn);
      btnGroup.appendChild(upBtn);

      // デッハチェック
      const dehContainer = document.createElement('label');
      dehContainer.className = 'deh-check';
      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      dehContainer.appendChild(checkbox);
      dehContainer.appendChild(document.createTextNode("デッハ所持"));

      wrapper.appendChild(label);
      wrapper.appendChild(value);
      wrapper.appendChild(btnGroup);
      wrapper.appendChild(dehContainer);

      document.getElementById('counters').appendChild(wrapper);

      counters.push(value);
    }

    function resetAll() {
      counters.forEach(counter => counter.textContent = states[0]);
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach(cb => cb.checked = false);
    }

    for (let i = 0; i < 4; i++) {
      createCounter(i);
    }
  </script>
</body>
</html>
